(function(e){function t(t){for(var i,o,u=t[0],c=t[1],a=t[2],h=0,f=[];h<u.length;h++)o=u[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);s&&s(t);while(f.length)f.shift()();return l.push.apply(l,a||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,u=1;u<n.length;u++){var c=n[u];0!==r[c]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},l=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/puzzles/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var a=0;a<u.length;a++)t(u[a]);var s=c;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},a766:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),r={class:"flex flex-col justify-center"},l={class:"flex flex-row justify-center"};function o(e,t,n,o,u,c){var a=Object(i["l"])("puzzle-interface-component");return Object(i["j"])(),Object(i["e"])("div",r,[Object(i["f"])("div",l,[Object(i["g"])(a,{"puzzle-interface":e.puzzleInterface},null,8,["puzzle-interface"])])])}var u,c=n("d4ec"),a=n("bee2"),s=n("262e"),h=n("2caf"),f=n("b85c"),d=(n("b0c0"),n("a4d3"),n("e01a"),n("d3b7"),n("159b"),n("7db0"),n("a434"),n("f00c"),n("a9e3"),n("99af"),n("a15b"),n("ac1f"),n("1276"),n("5319"),n("25eb"),function(){function e(){Object(c["a"])(this,e),this._isLocked=!1,this._isDisabled=!1}return Object(a["a"])(e,[{key:"value",get:function(){return this._value}},{key:"setValue",value:function(e){return this._isLocked||this._isDisabled||(this._value=e),this}},{key:"isLocked",get:function(){return this._isLocked}},{key:"setIsLocked",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._isLocked=e,this}},{key:"toggleLock",value:function(){return this._isLocked=!this._isLocked,this}},{key:"isDisabled",get:function(){return this._isDisabled}},{key:"setIsDisabled",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._isDisabled=e,this}},{key:"toggleDisabled",value:function(){return this._isDisabled=!this._isDisabled,this}}]),e}()),g=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){var i;return Object(c["a"])(this,n),i=t.call(this),i._value="",i.allowedValues=e,i}return Object(a["a"])(n,[{key:"getNeighbouringCorners",value:function(){return[this.northEastCorner,this.southEastCorner,this.southWestCorner,this.northWestCorner]}},{key:"getNeighbouringEdges",value:function(){return[this.northEdge,this.eastEdge,this.southEdge,this.westEdge]}}]),n}(d),v=(n("4de4"),function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){var i;return Object(c["a"])(this,n),i=t.call(this),i.isHorizontal=e,i}return Object(a["a"])(n,[{key:"toggle",value:function(){this._value=!this._value}},{key:"getNeighbouringCorners",value:function(){return[this.firstCorner,this.secondCorner]}},{key:"getNeighbouringTiles",value:function(){return[this.firstTile,this.secondTile].filter((function(e){return void 0!=e}))}}]),n}(d)),b=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"toggle",value:function(){this._value=!this._value}},{key:"getNeighbouringEdges",value:function(){return[this.northEdge,this.eastEdge,this.southEdge,this.westEdge].filter((function(e){return void 0!=e}))}},{key:"getActiveNeighbouringEdges",value:function(){return this.getNeighbouringEdges().filter((function(e){return!0===e.value}))}},{key:"getNeighbouringTiles",value:function(){return[this.northEastTile,this.southEastTile,this.southWestTile,this.northWestTile].filter((function(e){return void 0!=e}))}}]),n}(d),j=function(){function e(t,n){Object(c["a"])(this,e),this.rules=[],this.grid=[],this.puzzleConfig=n,this.name=n.name,this.description=n.description,n.rules&&this.setRules(n.rules),this.height=t.height,this.width=t.width,this.gridHeight=2*this.height+1,this.gridWidth=2*this.width+1,this.initializeGrid(),t.tileClues&&this.loadTileClues(t.tileClues)}return Object(a["a"])(e,[{key:"loadTileClues",value:function(e){var t=this;e.forEach((function(e){t.getTile(e.x,e.y).setValue(e.value)}))}},{key:"initializeGrid",value:function(){this.grid=[];for(var e=0;e<this.gridHeight;e++){for(var t=[],n=0;n<this.gridWidth;n++)e%2===0&&n%2===0?t.push(new b):e%2===1&&n%2===1?t.push(new g(this.puzzleConfig.tileValues)):t.push(new v(e%2===0));this.grid.push(t)}for(var i=0;i<this.gridHeight;i++)for(var r=0;r<this.gridWidth;r++)if(i%2===0&&r%2===0){var l=this.grid[i][r];l.northEdge=this.getCell(r,i-1),l.eastEdge=this.getCell(r+1,i),l.southEdge=this.getCell(r,i+1),l.westEdge=this.getCell(r-1,i),l.northEastTile=this.getCell(r+1,i-1),l.southEastTile=this.getCell(r+1,i+1),l.southWestTile=this.getCell(r-1,i+1),l.northWestTile=this.getCell(r-1,i-1)}else if(i%2===1&&r%2===1){var o=this.grid[i][r];o.northEdge=this.getCell(r,i-1),o.eastEdge=this.getCell(r+1,i),o.southEdge=this.getCell(r,i+1),o.westEdge=this.getCell(r-1,i),o.northEastCorner=this.getCell(r+1,i-1),o.southEastCorner=this.getCell(r+1,i+1),o.southWestCorner=this.getCell(r-1,i+1),o.northWestCorner=this.getCell(r-1,i-1)}else{var u=this.grid[i][r];u.isHorizontal?(u.firstTile=this.getCell(r,i-1),u.secondTile=this.getCell(r,i+1),u.firstCorner=this.getCell(r-1,i),u.secondCorner=this.getCell(r+1,i)):(u.firstTile=this.getCell(r-1,i),u.secondTile=this.getCell(r+1,i),u.firstCorner=this.getCell(r,i-1),u.secondCorner=this.getCell(r,i+1))}}},{key:"getCell",value:function(e,t){return e<0||e>=this.gridWidth||t<0||t>=this.gridHeight?void 0:this.grid[t][e]}},{key:"setRules",value:function(e){return this.rules=e,this}},{key:"disableRule",value:function(e){var t=this.rules.find((function(t){return t.id===e}));if(t){var n=this.rules.indexOf(t);this.rules.splice(n,1)}}},{key:"getTile",value:function(e,t){return this.grid[2*t+1][2*e+1]}},{key:"getTileEdges",value:function(e,t){return[this.grid[2*t+0][2*e+1],this.grid[2*t+2][2*e+1],this.grid[2*t+1][2*e+2],this.grid[2*t+1][2*e+0]]}},{key:"getCorner",value:function(e,t){return this.grid[2*t][2*e]}},{key:"isSolved",value:function(){var e,t=Object(f["a"])(this.rules);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.isSatisfied({puzzle:this});if(!i)return!1}}catch(r){t.e(r)}finally{t.f()}return!0}},{key:"toggleEdge",value:function(e){e.isLocked||e.isDisabled||e.toggle()}},{key:"toggleEdgeDisable",value:function(e){e.isLocked||e.value||e.toggleDisabled()}},{key:"toggleCorner",value:function(e){e.toggle()}},{key:"setTileValue",value:function(e,t){e.setValue(t)}},{key:"getTiles",value:function(){for(var e=[],t=0;t<this.height;t++)for(var n=0;n<this.width;n++)e.push(this.getTile(n,t));return e}},{key:"getCorners",value:function(){for(var e=[],t=0;t<this.height+1;t++)for(var n=0;n<this.width+1;n++)e.push(this.getCorner(n,t));return e}},{key:"getEdges",value:function(){for(var e=[],t=0;t<this.gridHeight;t++)for(var n=0;n<this.gridWidth;n++)t%2===0&&n%2===0||t%2===1&&n%2===1||e.push(this.grid[t][n]);return e}},{key:"exportTiles",value:function(){for(var e=[],t=0;t<this.height;t++)for(var n=0;n<this.width;n++){var i=this.getTile(n,t);i&&Number.isFinite(i.value)&&e.push("(".concat(n," ").concat(t," ").concat(i.value,")"))}return e.join(",")}},{key:"importTiles",value:function(e){if(e){var t,n=e.split(","),i=[],r=Object(f["a"])(n);try{for(r.s();!(t=r.n()).done;){var l=t.value;l=l.replace("(","").replace(")","");var o=l.split(" "),u=Number.parseInt(o[0]),c=Number.parseInt(o[1]),a=Number.parseInt(o[2]);i.push({x:u,y:c,value:a})}}catch(s){r.e(s)}finally{r.f()}this.loadTileClues(i)}}},{key:"export",value:function(){return""}},{key:"import",value:function(e){}}]),e}();(function(e){e["BooleanLiteral"]="boolean-literal",e["NumberLiteral"]="number-literal",e["NoneLiteral"]="none-literal",e["StringLiteral"]="string-literal",e["VariableExpression"]="variable-expression",e["AssignVariable"]="assign-variable",e["Eq"]="eq",e["Or"]="or",e["Gt"]="gt",e["ForEachTile"]="for-each-tile",e["ForEachCorner"]="for-each-corner",e["AllFilter"]="all",e["NoneFilter"]="none",e["TileHasNumericValueFilter"]="tile-has-numeric-value",e["EdgeIsActiveFilter"]="edge-is-active",e["IfStatement"]="if-statement",e["BlockStatement"]="block-statement",e["Add"]="add",e["TileValueFunction"]="tile-value",e["TileEdgeCountFunction"]="tile-edge-count",e["CornerEdgeCountFunction"]="corner-edge-count",e["EdgeGroupCountFunction"]="edge-group-count"})(u||(u={}));var p,O=Object(a["a"])((function e(){Object(c["a"])(this,e)}));(function(e){e[e["VOID"]=0]="VOID",e[e["NONE"]=1]="NONE",e[e["BOOLEAN"]=2]="BOOLEAN",e[e["NUMBER"]=3]="NUMBER",e[e["STRING"]=4]="STRING"})(p||(p={}));var k,m=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){var i;return Object(c["a"])(this,n),i=t.call(this),i.type=p.BOOLEAN,i.value=e,i}return Object(a["a"])(n,[{key:"toString",value:function(){return this.value?"True":"False"}}]),n}(O),y=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this,!0)}return Object(a["a"])(n)}(m),C=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this,!1)}return Object(a["a"])(n)}(m),z=Object(a["a"])((function e(){Object(c["a"])(this,e)})),w=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n)}(z),E=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this),r.left=e,r.right=i,r}return Object(a["a"])(n)}(w),x=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e,i),r.id=u.ForEachTile,r}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=this,n=e.puzzle.getTiles();n=n.filter((function(n){return e.tile=n,t.left.evaluate(e).value}));var i,r=Object(f["a"])(n);try{for(r.s();!(i=r.n()).done;){var l=i.value;e.tile=l;var o=this.right.evaluate(e);if(!1===o.value)return new C}}catch(u){r.e(u)}finally{r.f()}return new y}}]),n}(E),T=n("9072"),_=(n("d9e2"),function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n)}(Object(T["a"])(Error))),S=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e,i),r.id=u.Eq,r}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=this.left.evaluate(e),n=this.right.evaluate(e);if(t.type!=n.type)throw new _("Cannot compare different types ".concat(t," and ").concat(n));return new m(t.value===n.value)}}]),n}(E),I=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){var i;return Object(c["a"])(this,n),i=t.call(this),i.type=p.NUMBER,i.value=e,i}return Object(a["a"])(n,[{key:"toString",value:function(){return"".concat(this.value)}}]),n}(O),V=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return Object(a["a"])(n)}(w),N=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return Object(a["a"])(n)}(V),L=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.TileEdgeCountFunction,e}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=e.tile;if(!t)throw new PuzzleDataNotSetError("Tile not set for ".concat(this.id," function"));var n=0;return t.getNeighbouringEdges().forEach((function(e){e.value&&n++})),new I(n)}}]),n}(N),D=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.TileValueFunction,e}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=e.tile;if(!t)throw new PuzzleDataNotSetError("Tile not set for ".concat(this.id," function"));return new I(t.value)}}]),n}(N),R=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n)}(N),F=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.TileHasNumericValueFilter,e}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=e.tile;if(!t)throw new PuzzleDataNotSetError("Tile not set for ".concat(this.id," function"));return new m(Number.isFinite(t.value))}}]),n}(R),P=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.AllFilter,e}return Object(a["a"])(n,[{key:"evaluate",value:function(){return new y}}]),n}(R),A=(n("25f0"),function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){var i;return Object(c["a"])(this,n),i=t.call(this),i.type=e,i}return Object(a["a"])(n,[{key:"toString",value:function(){return this.type.toString()}}]),n}(w)),W=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(c["a"])(this,n),e=t.call(this,new I(i)),e.id=u.NumberLiteral,e}return Object(a["a"])(n,[{key:"evaluate",value:function(){return this.type}}]),n}(A),q=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e,i),r.id=u.ForEachCorner,r}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=this,n=e.puzzle.getCorners();n=n.filter((function(n){return e.corner=n,t.left.evaluate(e).value}));var i,r=Object(f["a"])(n);try{for(r.s();!(i=r.n()).done;){var l=i.value;e.corner=l;var o=this.right.evaluate(e);if(!1===o.value)return new C}}catch(u){r.e(u)}finally{r.f()}return new y}}]),n}(E),M=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e,i),r.id=u.Or,r}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=this.left.evaluate(e),n=this.right.evaluate(e);if(t.type!=p.BOOLEAN)throw new _("Left ".concat(t," is not a boolean"));if(n.type!=p.BOOLEAN)throw new _("Right ".concat(n," is not a boolean"));return new m(t.value||n.value)}}]),n}(E),B=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.CornerEdgeCountFunction,e}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=e.corner;if(!t)throw new PuzzleDataNotSetError("Corner not set for ".concat(this.id," function"));var n=0;return t.getNeighbouringEdges().forEach((function(e){e.value&&n++})),new I(n)}}]),n}(N),H=function(){function e(t,n,i){Object(c["a"])(this,e),this.id=t,this.description=n,this.expr=i}return Object(a["a"])(e,[{key:"isSatisfied",value:function(e){return this.expr.evaluate(e).value}}]),e}();(function(e){e["TileValueEqualsEdgeCount"]="slitherlink-tile-value-edge-count",e["EdgeCornerCountIsEven"]="slitherlink-corner-edge-count-is-even",e["SingleLoop"]="slitherlink-edge-group-count-is-one"})(k||(k={}));var $,G,U=n("2909"),J=(n("caad"),function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.id=u.EdgeGroupCountFunction,e}return Object(a["a"])(n,[{key:"evaluate",value:function(e){var t=e.puzzle.getEdges().filter((function(e){return!0===e.value})),n=0,i=[];while(t.length>0){n++;var r=[t.shift()];while(r.length>0){var l,o=r.shift(),u=o.firstCorner.getActiveNeighbouringEdges(),c=o.secondCorner.getActiveNeighbouringEdges(),a=[].concat(Object(U["a"])(u),Object(U["a"])(c)),s=Object(f["a"])(a);try{for(s.s();!(l=s.n()).done;){var h=l.value;if(!i.includes(h)){i.push(h),r.push(h);var d=t.indexOf(h);-1!==d&&t.splice(d,1)}}}catch(g){s.e(g)}finally{s.f()}}}return new I(n)}}]),n}(N));(function(e){e[e["ToggleEdgeValue"]=0]="ToggleEdgeValue",e[e["ToggleEdgeDisabled"]=1]="ToggleEdgeDisabled"})($||($={})),function(e){e[e["CycleThroughValues"]=0]="CycleThroughValues"}(G||(G={}));var Y,K=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e){return Object(c["a"])(this,n),t.call(this,e,{name:"Slitherlink",description:"The objective is to connect horizontally and vertically adjacent dots so that the lines form a simple loop with no loose ends. In addition, the number inside a square represents how many of its four sides are segments in the loop.",tileValues:["",0,1,2,3],rules:[new H(k.TileValueEqualsEdgeCount,"The number of edges around a tile must equal the number in the tile",new x(new F,new S(new L,new D))),new H(k.EdgeCornerCountIsEven,"Each corner must have 0 or 2 connected edges",new q(new P,new M(new S(new B,new W(0)),new S(new B,new W(2))))),new H(k.SingleLoop,"The path should be a single loop",new S(new J,new W(1)))],solvingConfig:{edgeLeftClicked:$.ToggleEdgeValue,edgeRightClicked:$.ToggleEdgeDisabled},editingConfig:{edgeLeftClicked:$.ToggleEdgeValue,tileLeftClicked:G.CycleThroughValues}})}return Object(a["a"])(n,[{key:"export",value:function(){return this.exportTiles()}},{key:"import",value:function(e){this.initializeGrid(),console.log("importing slitherlink"),this.importTiles(e)}}]),n}(j),Q=function(){function e(){Object(c["a"])(this,e),this._index=0,this._commands=[]}return Object(a["a"])(e,[{key:"index",get:function(){return this._index}},{key:"commands",get:function(){return this._commands}},{key:"do",value:function(e){return!!e.do()&&(this.truncateFutureCommands(),this._commands.push(e),this._index++,!0)}},{key:"undo",value:function(){if(0===this._index)return console.warn("Cannot undo if at start"),!1;var e=this._commands[this._index-1];return e.undo()?(this._index--,!0):(console.warn("Could not undo command ".concat(e.toString())),!1)}},{key:"redo",value:function(){if(this._index===this._commands.length)return console.warn("Cannot redo at the end of list"),!1;var e=this._commands[this._index];return e.do()?(this._index++,!0):(console.warn("Could not redo command ".concat(e.toString())),!1)}},{key:"truncateFutureCommands",value:function(){this._index<this._commands.length&&(this._commands.length=this._index)}}]),e}(),X=Object(a["a"])((function e(t){Object(c["a"])(this,e),this._puzzle=t})),Z=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e),r._edge=i,r}return Object(a["a"])(n,[{key:"do",value:function(){return this._edge.toggle(),!0}},{key:"undo",value:function(){return this._edge.toggle(),!0}},{key:"toString",value:function(){return"Toggle edge"}}]),n}(X),ee=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e),r._edge=i,r}return Object(a["a"])(n,[{key:"do",value:function(){return this._edge.toggleDisabled(),!0}},{key:"undo",value:function(){return this._edge.toggleDisabled(),!0}},{key:"toString",value:function(){return"Disable edge"}}]),n}(X),te=function(e){Object(s["a"])(n,e);var t=Object(h["a"])(n);function n(e,i){var r;return Object(c["a"])(this,n),r=t.call(this,e),r._tile=i,r}return Object(a["a"])(n,[{key:"do",value:function(){this._oldValue=this._tile.value;var e=this._tile.allowedValues.indexOf(this._oldValue),t=(e+1)%this._tile.allowedValues.length,n=this._tile.allowedValues[t];return this._tile.setValue(n),!0}},{key:"undo",value:function(){return this._tile.setValue(this._oldValue),this._oldValue=null,!0}},{key:"toString",value:function(){return"Rotate tile value"}}]),n}(X);(function(e){e["Solving"]="Solving",e["Editing"]="Editing"})(Y||(Y={}));var ne=function(){function e(t,n){Object(c["a"])(this,e),this.puzzle=t,this.mode=n,this.config=this.loadConfig(),this.commands=new Q}return Object(a["a"])(e,[{key:"loadConfig",value:function(){return this.mode===Y.Solving?this.puzzle.puzzleConfig.solvingConfig:this.puzzle.puzzleConfig.editingConfig}},{key:"performEdgeClickAction",value:function(e,t){var n=t?this.config.edgeLeftClicked:this.config.edgeRightClicked;switch(n){case $.ToggleEdgeValue:return this.do(new Z(this.puzzle,e));case $.ToggleEdgeDisabled:return this.do(new ee(this.puzzle,e))}}},{key:"performTileClickAction",value:function(e,t){var n=t?this.config.tileLeftClicked:this.config.tileRightClicked;switch(n){case G.CycleThroughValues:return this.do(new te(this.puzzle,e))}}},{key:"switchMode",value:function(){var e=this.puzzle.export();this.mode===Y.Solving?this.mode=Y.Editing:this.mode=Y.Solving,this.config=this.loadConfig(),this.commands=new Q,this.import(e)}},{key:"do",value:function(e){this.commands.do(e)}},{key:"undo",value:function(){this.commands.undo()}},{key:"redo",value:function(){this.commands.redo()}},{key:"export",value:function(){return this.puzzle.export()}},{key:"import",value:function(e){this.puzzle.import(e)}}]),e}(),ie={class:"flex flex-row"},re={class:"flex flex-col p-4 max-h-96 overflow-y-scroll"},le={class:"flex flex-row flex-wrap justify-items-stretch"},oe={key:0,class:"border-2 border-black"};function ue(e,t,n,r,l,o){var u=Object(i["l"])("puzzle-component");return Object(i["j"])(),Object(i["e"])("div",null,[Object(i["f"])("div",ie,[Object(i["g"])(u,{puzzle:e.puzzle,onEdgeLeft:e.edgeLeftClicked,onEdgeRight:e.edgeRightClicked,onTileLeft:e.tileLeftClicked,onTileRight:e.tileRightClicked},null,8,["puzzle","onEdgeLeft","onEdgeRight","onTileLeft","onTileRight"]),Object(i["f"])("div",re,[Object(i["f"])("div",le,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return e.undo&&e.undo.apply(e,arguments)}),class:"btn btn-red"},"Undo"),Object(i["f"])("button",{onClick:t[1]||(t[1]=function(){return e.redo&&e.redo.apply(e,arguments)}),class:"btn btn-green"},"Redo")]),(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["k"])(e.commands,(function(t,n){return Object(i["j"])(),Object(i["e"])("div",{key:t.toString()},[Object(i["f"])("p",null,Object(i["m"])(t.toString()),1),e.puzzleInterface.commands.index===e.puzzleInterface.commands.commands.length-n-1?(Object(i["j"])(),Object(i["e"])("hr",oe)):Object(i["d"])("",!0)])})),128))])]),Object(i["f"])("p",null,"Is solved: "+Object(i["m"])(e.isSolved),1),Object(i["f"])("button",{onClick:t[2]||(t[2]=function(){return e.exportPuzzle&&e.exportPuzzle.apply(e,arguments)}),class:"btn btn-blue"},"Export!"),Object(i["o"])(Object(i["f"])("input",{class:"input-primary","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.exportValue=t})},null,512),[[i["n"],e.exportValue]]),Object(i["f"])("button",{onClick:t[4]||(t[4]=function(){return e.importPuzzle&&e.importPuzzle.apply(e,arguments)}),class:"btn btn-red"},"Import!"),Object(i["f"])("button",{onClick:t[5]||(t[5]=function(){return e.switchMode&&e.switchMode.apply(e,arguments)}),class:"btn btn-green"},Object(i["m"])(e.isSolving?"Solving":"Editing"),1)])}n("fb6a");var ce={class:"text-2xl font-semibold"},ae=Object(i["f"])("hr",null,null,-1),se=Object(i["f"])("br",null,null,-1),he=Object(i["f"])("div",{class:"text-xl"},"Rules",-1),fe=Object(i["f"])("hr",null,null,-1),de={class:"flex flex-col mx-4"},ge={class:"list-disc"},ve=Object(i["f"])("br",null,null,-1),be={class:"flex flex-row justify-center"},je={class:"puzzle-container flex flex-col mx-4"};function pe(e,t,n,r,l,o){var u=Object(i["l"])("corner-component"),c=Object(i["l"])("tile-component"),a=Object(i["l"])("edge-component");return Object(i["j"])(),Object(i["e"])("div",{class:"w-1/2 bg-gray-400 m-4 p-8 select-none",onContextmenu:t[0]||(t[0]=Object(i["p"])((function(){}),["prevent"]))},[Object(i["f"])("div",ce,Object(i["m"])(e.puzzle.name),1),ae,Object(i["f"])("p",null,Object(i["m"])(e.puzzle.description),1),se,he,fe,Object(i["f"])("div",de,[Object(i["f"])("ul",ge,[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["k"])(e.puzzle.rules,(function(e){return Object(i["j"])(),Object(i["e"])("li",{key:e.id},Object(i["m"])(e.description),1)})),128))])]),ve,Object(i["f"])("div",be,[Object(i["f"])("div",je,[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["k"])(e.puzzle.grid,(function(t,n){return Object(i["j"])(),Object(i["e"])("div",{class:"flex flex-row",key:"row-"+n},[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["k"])(t,(function(t,r){return Object(i["j"])(),Object(i["e"])("div",{key:"cell-"+r+"-"+n},[n%2===0&&r%2===0?(Object(i["j"])(),Object(i["c"])(u,{key:0,onCorner:e.cornerClicked,corner:t},null,8,["onCorner","corner"])):n%2===1&&r%2===1?(Object(i["j"])(),Object(i["c"])(c,{key:1,onTile:e.tileClicked,tile:t},null,8,["onTile","tile"])):(Object(i["j"])(),Object(i["c"])(a,{key:2,edge:t},null,8,["edge"]))])})),128))])})),128))])])],32)}var Oe={class:"text-center"};function ke(e,t,n,r,l,o){return Object(i["j"])(),Object(i["e"])("div",{onClick:t[0]||(t[0]=function(){return e.leftClick&&e.leftClick.apply(e,arguments)}),onContextmenu:t[1]||(t[1]=Object(i["p"])((function(){return e.rightClick&&e.rightClick.apply(e,arguments)}),["right"])),class:"h-12 w-12 bg-blue-400 flex flex-col justify-center"},[Object(i["f"])("div",Oe,Object(i["m"])(e.tile.value),1)],32)}var me=Object(i["h"])({name:"TileComponent",props:{tile:{type:g,required:!0}},methods:{leftClick:function(){var e;null===(e=this.$parent)||void 0===e||e.$emit("tileLeft",this.tile)},rightClick:function(){var e;null===(e=this.$parent)||void 0===e||e.$emit("tileRight",this.tile)}}}),ye=n("6b0d"),Ce=n.n(ye);const ze=Ce()(me,[["render",ke]]);var we=ze,Ee={key:0};function xe(e,t,n,r,l,o){return Object(i["j"])(),Object(i["e"])("div",{onClick:t[0]||(t[0]=function(){return e.leftClick&&e.leftClick.apply(e,arguments)}),onContextmenu:t[1]||(t[1]=Object(i["p"])((function(){return e.rightClick&&e.rightClick.apply(e,arguments)}),["right"])),class:Object(i["i"])([e.dimensions+" "+e.edgeColor,"flex flex-row justify-center items-center"])},[e.edge.isDisabled?(Object(i["j"])(),Object(i["e"])("span",Ee,"x")):Object(i["d"])("",!0)],34)}var Te=Object(i["h"])({name:"EdgeComponent",props:{edge:{type:v,required:!0}},computed:{dimensions:function(){return this.edge.isHorizontal?"w-12 h-4":"w-4 h-12"},edgeColor:function(){return this.edge.value?"bg-black":"bg-gray-300"}},methods:{leftClick:function(){var e;null===(e=this.$parent)||void 0===e||e.$emit("edgeLeft",this.edge)},rightClick:function(){var e;null===(e=this.$parent)||void 0===e||e.$emit("edgeRight",this.edge)}}});const _e=Ce()(Te,[["render",xe]]);var Se=_e;function Ie(e,t,n,r,l,o){return Object(i["j"])(),Object(i["e"])("div",{onClick:t[0]||(t[0]=function(){return e.click&&e.click.apply(e,arguments)}),class:Object(i["i"])("h-4 w-4 "+e.cornerColor)},null,2)}var Ve=Object(i["h"])({name:"CornerComponent",props:{corner:{type:b,required:!0}},computed:{cornerColor:function(){return this.corner.value?"bg-black":"bg-red-400"}},methods:{click:function(){this.$emit("corner",this.corner)}}});const Ne=Ce()(Ve,[["render",Ie]]);var Le=Ne,De=Object(i["h"])({name:"PuzzleComponent",components:{CornerComponent:Le,EdgeComponent:Se,TileComponent:we},props:{puzzle:{type:j,required:!0}},data:function(){return{isSolved:!1}},methods:{checkIsSolved:function(){this.isSolved=this.puzzle.isSolved()},tileClicked:function(e){this.puzzle.setTileValue(e,3),this.checkIsSolved()},cornerClicked:function(e){this.puzzle.toggleCorner(e),this.checkIsSolved()}}});const Re=Ce()(De,[["render",pe]]);var Fe=Re,Pe=Object(i["h"])({name:"PuzzleInterfaceComponent",components:{PuzzleComponent:Fe},props:{puzzleInterface:{type:ne,required:!0}},data:function(){return{isSolved:!1,exportValue:""}},computed:{isSolving:function(){return this.puzzleInterface.mode===Y.Solving},isEditing:function(){return this.puzzleInterface.mode===Y.Editing},puzzle:function(){return this.puzzleInterface.puzzle},commands:function(){return this.puzzleInterface.commands.commands.slice().reverse()}},methods:{switchMode:function(){this.puzzleInterface.switchMode()},undo:function(){this.puzzleInterface.undo()},redo:function(){this.puzzleInterface.redo()},exportPuzzle:function(){!this.isEditing||this.isSolved?this.exportValue=this.puzzleInterface.export():alert("You can only export solved puzzles")},importPuzzle:function(){this.puzzleInterface.import(this.exportValue)},checkIsSolved:function(){this.isSolved=this.puzzle.isSolved()},edgeLeftClicked:function(e){this.puzzleInterface.performEdgeClickAction(e,!0),this.checkIsSolved()},edgeRightClicked:function(e){this.puzzleInterface.performEdgeClickAction(e,!1),this.checkIsSolved()},tileLeftClicked:function(e){this.puzzleInterface.performTileClickAction(e,!0),this.checkIsSolved()},tileRightClicked:function(e){this.puzzleInterface.performTileClickAction(e,!1),this.checkIsSolved()}}});const Ae=Ce()(Pe,[["render",ue]]);var We=Ae,qe=Object(i["h"])({name:"App",components:{PuzzleInterfaceComponent:We},data:function(){return{puzzleInterface:new ne(new K({width:5,height:5}),Y.Solving)}}});const Me=Ce()(qe,[["render",o]]);var Be=Me;n("a766");Object(i["b"])(Be).mount("#app")}});
//# sourceMappingURL=app.60560ef9.js.map